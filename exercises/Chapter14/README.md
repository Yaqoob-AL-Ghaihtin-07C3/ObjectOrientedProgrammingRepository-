# تمارين محلولة من الفصل الرابع عشر exercises/Chapter14 من كتاب Object-Oriented-Programming_OOP_C++

يحتوي هذا الفصل على تمارين برمجية من الكتاب من الفصل الرابع عشر (exercises/Chapter14) من كتاب Object-Oriented-Programming_OOP_C++.

---

## Chapter 14: Templates and Exception Handling in C++

This chapter introduces two powerful C++ features: templates for generic programming and exception handling for robust error management. It covers function templates, class templates, template specialization, and the try-catch mechanism for handling runtime errors.

### Code Files:

| #   | File Name                                     | Description                                                                                             | Input         | Output        | Topic                    |
| --- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------- | ------------- | ------------------------ |
| 1   | [Exercises14_1.cpp](Exercises14_1.cpp)        | Demonstrates a function template that calculates the average of arrays of different data types.        | مصفوفات ثابتة بأنواع مختلفة | المتوسط لكل مصفوفة | قوالب الدوال، البرمجة العامة |
| 2   | [Exercises14_2.cpp](Exercises14_2.cpp)        | Implements a queue class as a template to handle different data types without code duplication.        | قيم ثابتة     | عمليات قائمة الانتظار | قوالب الفئات، هياكل البيانات العامة |
| 3   | [Exercises14_3.cpp](Exercises14_2.cpp)        | Enhances the queue template with exception handling for queue overflow and underflow conditions.       | إدخال تفاعلي من المستخدم | نتائج مع معالجة الأخطاء | معالجة الاستثناءات، البرمجة المتينة |

### تفاصيل كل تمرين:

#### 1. [Exercises14_1.cpp](Exercises14_1.cpp) - قوالب الدوال
- **الوظيفة**: حساب متوسط مصفوفات بأنواع بيانات مختلفة باستخدام قالب دالة واحد
- **المدخلات**: أربع مصفوفات ثابتة (int, long, double, char)
- **المخرجات**: متوسط كل مصفوفة
- **المفاهيم**: 
  - قوالب الدوال (`template <class atype>`)
  - البرمجة العامة (Generic Programming)
  - معامل القالب (`atype`) كنوع بيانات عام
  - استدعاء القالب مع أنواع مختلفة (`avg(intArray)`, `avg(doubleArray)`)
  - التحويلات النوعية عند الضرورة

#### 2. [Exercises14_2.cpp](Exercises14_2.cpp) - قوالب الفئات
- **الوظيفة**: تنفيذ هيكل بيانات قائمة الانتظار (Queue) كقالب للتعامل مع أنواع بيانات متعددة
- **المدخلات**: قيم ثابتة لأنواع float و long
- **المخرجات**: نتائج عمليات الإدخال والإخراج من قائمة الانتظار
- **المفاهيم**:
  - قوالب الفئات (`template <class Type>`)
  - إنشاء كائنات من القالب (`Queue<float> q1`, `Queue<long> q2`)
  - قائمة الانتظار الدائرية (Circular Queue)
  - إدارة مؤشرات البداية والنهاية (`head`, `tail`)
  - الالتفاف حول نهاية المصفوفة (wrap-around)

#### 3. [Exercises14_3.cpp](Exercises14_3.cpp) - معالجة الاستثناءات مع القوالب
- **الوظيفة**: تحسين قالب قائمة الانتظار بإضافة معالجة الاستثناءات للأخطاء
- **المدخلات**: إدخال تفاعلي من المستخدم (`p` للإدخال، `g` للإخراج، `x` للخروج)
- **المخرجات**: نتائج العمليات مع رسائل خطأ عند الضرورة
- **المفاهيم**:
  - معالجة الاستثناءات (Exception Handling)
  - `try` و `catch` للتعامل مع الأخطاء
  - فئات الاستثناءات الداخلية (`class full`, `class empty`)
  - رمي الاستثناءات (`throw full()`, `throw empty()`)
  - التعامل مع حالات تجاوز السعة والفارغة

---

## الفصل الرابع عشر: القوالب ومعالجة الاستثناءات في لغة C++

يقدم هذا الفصل ميزتين قويتين في لغة C++: القوالب للبرمجة العامة ومعالجة الاستثناءات لإدارة الأخطاء بشكل متين. يغطي قوالب الدوال، قوالب الفئات، تخصص القوالب، وآلية try-catch للتعامل مع أخطاء وقت التنفيذ.

### ملفات الأكواد:

| #   | اسم الملف                                     | الوصف                                                                                                   | المدخلات      | المخرجات       | الموضوع                    |
| --- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------- | ------------- | ------------------------ |
| 1   | [Exercises14_1.cpp](Exercises14_1.cpp)        | يوضح قالب دالة يحسب متوسط مصفوفات بأنواع بيانات مختلفة.                                                 | مصفوفات ثابتة بأنواع مختلفة | المتوسط لكل مصفوفة | قوالب الدوال، البرمجة العامة |
| 2   | [Exercises14_2.cpp](Exercises14_2.cpp)        | ينفذ فئة قائمة الانتظار كقالب للتعامل مع أنواع بيانات متعددة دون تكرار الكود.                            | قيم ثابتة     | عمليات قائمة الانتظار | قوالب الفئات، هياكل البيانات العامة |
| 3   | [Exercises14_3.cpp](Exercises14_3.cpp)        | يحسن قالب قائمة الانتظار بإضافة معالجة الاستثناءات لحالات تجاوز السعة والفارغة.                         | إدخال تفاعلي من المستخدم | نتائج مع معالجة الأخطاء | معالجة الاستثناءات، البرمجة المتينة |

### شرح مفصل لكل تمرين:

#### 1. [Exercises14_1.cpp](Exercises14_1.cpp) - قوالب الدوال
- **ما يفعله البرنامج**: ينشئ دالة واحدة تعمل مع أنواع بيانات متعددة باستخدام القوالب
- **كيف يعمل**: 
  1. يعرف قالب دالة `avg()` يأخذ معامل نوع `atype`
  2. الدالة تحسب مجموع عناصر المصفوفة ثم تقسم على حجمها
  3. يستدعى القالب مع أنواع مختلفة:
     - `avg(intArray, 6)`: لحساب متوسط الأعداد الصحيحة
     - `avg(doubleArray, 6)`: لحساب متوسط الأعداد الكسرية
     - `avg(charArray, 6)`: لحساب متوسط الأحرف (يتم تحويل النتيجة لـ int للعرض)
  4. المترجم يولد نسخاً مختلفة من الكود لكل نوع مستخدم
- **الغرض التعليمي**: فهم مبدأ البرمجة العامة وتجنب تكرار الكود للأنواع المختلفة

#### 2. [Exercises14_2.cpp](Exercises14_2.cpp) - قوالب الفئات
- **ما يفعله البرنامج**: ينشئ هيكل بيانات قائمة الانتظار كقالب قابل لإعادة الاستخدام
- **كيف يعمل**: 
  1. يعرف فئة `Queue` كقالب يأخذ معامل نوع `Type`
  2. ينفذ قائمة الانتظار الدائرية التي تستخدم مؤشرات `head` و `tail`
  3. عندما يصل `tail` لنهاية المصفوفة، يعود للبداية (wrap-around)
  4. ينشئ كائنين من القالب:
     - `Queue<float> q1`: لقائمة انتظار الأعداد الكسرية
     - `Queue<long> q2`: لقائمة انتظار الأعداد الصحيحة الطويلة
  5. يختبر العمليات الأساسية: `put()` للإدخال، `get()` للإخراج
- **الغرض التعليمي**: تعلم كيفية إنشاء فئات عامة باستخدام القوالب

#### 3. [Exercises14_3.cpp](Exercises14_3.cpp) - معالجة الاستثناءات مع القوالب
- **ما يفعله البرنامج**: يحسن قائمة الانتظار بإضافة معالجة أخطاء متينة
- **كيف يعمل**: 
  1. يضيف فئتين استثناء داخل الفئة: `full` و `empty`
  2. في `put()`، إذا كانت القائمة ممتلئة (`count >= MAX`)، يرمي استثناء `full()`
  3. في `get()`، إذا كانت القائمة فارغة (`count <= 0`)، يرمي استثناء `empty()`
  4. في `main()`، يغلف الكود في كتلة `try` ويتعامل مع الاستثناءات في كتل `catch`
  5. يسمح للمستخدم بتجربة حالات الخطأ بشكل تفاعلي
- **الغرض التعليمي**: فهم كيفية دمج القوالب مع معالجة الاستثناءات لإنشاء كود متين

### المفاهيم الرئيسية في هذا الفصل:

1. **القوالب (Templates)**:
   - قوالب الدوال: إنشاء دوال عامة تعمل مع أنواع متعددة
   - قوالب الفئات: إنشاء فئات عامة تعمل مع أنواع متعددة
   - تجنب تكرار الكود (Code Reuse)

2. **معالجة الاستثناءات (Exception Handling)**:
   - `try`: كتلة تحتوي على كود قد يرمي استثناءات
   - `catch`: كتلة تتعامل مع استثناءات محددة
   - `throw`: رمي استثناء عند حدوث خطأ
   - فئات الاستثناءات: تعريف أنواع مخصصة للأخطاء

3. **البرمجة العامة (Generic Programming)**:
   - كتابة خوارزميات وهياكل بيانات مستقلة عن النوع
   - زيادة إمكانية إعادة الاستخدام
   - تقليل الأخطاء الناتجة عن تكرار الكود

### فوائد استخدام القوالب:

1. **إعادة استخدام الكود**: كتابة الخوارزمية مرة واحدة واستخدامها مع أنواع متعددة
2. **سلامة النوع**: التحقق من الأنواع في وقت الترجمة
3. **الكفاءة**: لا يوجد تكلفة وقت تشغيل (عند استخدامها بشكل صحيح)
4. **المرونة**: دعم أنواع مخصصة بالإضافة إلى الأنواع المضمنة

### فوائد معالجة الاستثناءات:

1. **فصل منطق الأعمال عن معالجة الأخطاء**
2. **تمرير الأخطاء عبر مستويات متعددة من استدعاء الدوال**
3. **تنظيم معالجة الأخطاء بشكل هرمي**
4. **التحكم في موارد البرنامج حتى عند حدوث أخطاء**

### أنواع القوالب:

| النوع              | الوصف                                                                 | مثال                          |
|--------------------|----------------------------------------------------------------------|-------------------------------|
| **قالب الدالة**    | دالة تعمل مع أنواع متعددة                                           | `template <class T> T max(T a, T b)` |
| **قالب الفئة**     | فئة تعمل مع أنواع متعددة                                            | `template <class T> class Stack`    |
| **قالب بمعاملات متعددة** | قالب يأخذ أكثر من معامل نوع                                  | `template <class T, int size>`      |
| **تخصص القالب**    | تنفيذ خاص لنوع معين من القالب                                       | `template<> class Stack<char*>`     |

### دورة حياة الاستثناء:

1. **اكتشاف الخطأ** → **رمي الاستثناء** → **بحث عن معالج** → **معالجة الاستثناء** → **استئناف التنفيذ**
2. إذا لم يتم العثور على معالج مناسب، يتم إنهاء البرنامج

### تطبيقات عملية:

1. **مكتبات القوالب القياسية (STL)**: مثل `vector<T>`, `list<T>`, `map<K,V>`
2. **الحاويات الذكية**: مثل `unique_ptr<T>`, `shared_ptr<T>`
3. **الخوارزميات العامة**: مثل `sort()`, `find()`, `transform()`
4. **أنظمة معالجة الأخطاء**: في التطبيقات الكبيرة والمعقدة

### أخطاء شائعة يجب تجنبها:

1. **تجاهل الاستثناءات**: عدم التعامل مع الاستثناءات المرمية
2. **استثناءات في المدمرات**: صعبة المعالجة وقد تؤدي إلى إنهاء البرنامج
3. **تسرب الموارد**: نسيان تحرير الموارد قبل رمي الاستثناء
4. **تعقيد القوالب المفرط**: صعوبة قراءة وتصحيح القوالب المعقدة جداً

هذا الفصل يعلم تقنيات متقدمة تجعل البرامج أكثر عمومية وأكثر متانة، وهي أساسية للبرمجة الاحترافية وإنشاء مكتبات قابلة لإعادة الاستخدام.