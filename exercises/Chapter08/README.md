# تمارين محلولة من الفصل الثامن exercises/Chapter08 من كتاب Object-Oriented-Programming_OOP_C++

يحتوي هذا الفصل على تمارين برمجية من الكتاب من الفصل الثامن (exercises/Chapter08) من كتاب Object-Oriented-Programming_OOP_C++.

---

## Chapter 8: Operator Overloading in C++

This chapter covers operator overloading, a powerful feature in C++ that allows user-defined types to use operators like +, -, *, etc. It demonstrates how to make classes behave like built-in types through operator overloading and conversion operators.

### Code Files:

| #   | File Name                                     | Description                                                                                             | Input         | Output        | Topic                    |
| --- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------- | ------------- | ------------------------ |
| 1   | [Exercises8_1.cpp](Exercises8_1.cpp)          | Overloads + and - operators for the Distance class, enabling natural arithmetic with distance objects. | مسافات من المستخدم | فرق المسافات  | زيادة أحمال العوامل الحسابية |
| 2   | [Exercises8_2.cpp](Exercises8_2.cpp)          | Overloads += operator for string concatenation with bounds checking for String class.                  | سلاسل نصية ثابتة | سلسلة مدمجة   | زيادة أحمال العوامل المركبة |
| 3   | [Exercises8_3.cpp](Exercises8_3.cpp)          | Overloads + operator for time addition with proper overflow handling for hours, minutes, seconds.      | أوقات ثابتة   | وقت مجمع      | زيادة أحمال العوامل على فئات الوقت |
| 4   | [Exercises8_4.cpp](Exercises8_4.cpp)          | Implements full arithmetic operators for Int class with overflow checking and conversion operators.    | أعداد صحيحة   | نتائج العمليات | زيادة أحمال متقدمة، عوامل التحويل |

### تفاصيل كل تمرين:

#### 1. [Exercises8_1.cpp](Exercises8_1.cpp) - زيادة أحمال + و - لفئة المسافة
- **الوظيفة**: تعريف مشغلين + و - لفئة `Distance` للسماح بجمع وطرح المسافات بشكل طبيعي
- **المدخلات**: مسافة من المستخدم، ومسافة ثابتة (3 أقدام، 6.25 بوصة)
- **المخرجات**: نتيجة طرح المسافتين
- **المفاهيم**: 
  - زيادة حمل المشغلين `+` و `-`
  - دوال الأعضاء التي تعيد كائنات
  - التعامل مع التجاوز في الوحدات (البوصات → الأقدام)
  - إنشاء كائنات مؤقتة للقيم المرجعة

#### 2. [Exercises8_2.cpp](Exercises8_2.cpp) - زيادة حمل += لدمج السلاسل النصية
- **الوظيفة**: تعريف مشغل `+=` لفئة `String` لدمج سلاسل نصية مع التحقق من السعة
- **المدخلات**: سلسلتين نصيتين ثابتتين
- **المخرجات**: السلسلة المدمجة مع التحقق من عدم تجاوز السعة
- **المفاهيم**:
  - زيادة حمل المشغل المركب `+=`
  - التحقق من حدود المصفوفات (overflow checking)
  - استخدام المكتبات: `<cstring>` للدوال النصية، `<process.h>` لـ `exit()`
  - إرجاع كائن مؤقت من نفس النوع

#### 3. [Exercises8_3.cpp](Exercises8_3.cpp) - زيادة حمل + لفئة الوقت
- **الوظيفة**: تعريف مشغل `+` لفئة `time` لجمع الأوقات مع التعامل مع التجاوز
- **المدخلات**: وقتين ثابتين (5:59:59 و 4:30:30)
- **المخرجات**: الوقت الناتج عن الجمع (10:30:29)
- **المفاهيم**:
  - زيادة حمل المشغل `+` للأنواع المعقدة
  - التعامل مع تتابع التجاوز (ثواني → دقائق → ساعات)
  - بناء الكائنات المؤقتة في العبارة `return`
  - الحفاظ على طبيعية استخدام المشغل

#### 4. [Exercises8_4.cpp](Exercises8_4.cpp) - زيادة أحمال متقدمة لفئة Int
- **الوظيفة**: تنفيذ جميع المشغلين الحسابيين الأساسيين لفئة `Int` مع التحقق من التجاوز
- **المدخلات**: قيم ثابتة في الكود مع اختبار لحالات التجاوز
- **المخرجات**: نتائج العمليات الحسابية أو رسائل خطأ التجاوز
- **المفاهيم**:
  - زيادة حمل المشغلين `+`, `-`, `*`, `/`
  - عامل التحويل (conversion operator): `operator int()`
  - التحقق من التجاوز باستخدام `long double` لدقة أعلى
  - بناء المركبات (composition) مع دوال مساعدة

---

## الفصل الثامن: زيادة أحمال العوامل في لغة C++

يغطي هذا الفصل زيادة أحمال العوامل، وهي ميزة قوية في C++ تسمح للأنواع المعرفة من المستخدم باستخدام العوامل مثل +، -، *، إلخ. يوضح كيفية جعل الفئات تتصرف مثل الأنواع المضمنة من خلال زيادة أحمال العوامل وعوامل التحويل.

### ملفات الأكواد:

| #   | اسم الملف                                     | الوصف                                                                                                   | المدخلات      | المخرجات       | الموضوع                    |
| --- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------- | ------------- | ------------------------ |
| 1   | [Exercises8_1.cpp](Exercises8_1.cpp)          | يزيد حمل مشغلي + و - لفئة المسافة، متمكناً من العمليات الحسابية الطبيعية مع كائنات المسافة.            | مسافات من المستخدم | فرق المسافات  | زيادة أحمال العوامل الحسابية |
| 2   | [Exercises8_2.cpp](Exercises8_2.cpp)          | يزيد حمل مشغل += لدمج السلاسل النصية مع التحقق من الحدود لفئة String.                                   | سلاسل نصية ثابتة | سلسلة مدمجة   | زيادة أحمال العوامل المركبة |
| 3   | [Exercises8_3.cpp](Exercises8_3.cpp)          | يزيد حمل مشغل + لجمع الأوقات مع التعامل الصحيح مع التجاوز للساعات والدقائق والثواني.                   | أوقات ثابتة   | وقت مجمع      | زيادة أحمال العوامل على فئات الوقت |
| 4   | [Exercises8_4.cpp](Exercises8_4.cpp)          | ينفذ جميع المشغلين الحسابيين الأساسيين لفئة Int مع التحقق من التجاوز وعوامل التحويل.                    | أعداد صحيحة   | نتائج العمليات | زيادة أحمال متقدمة، عوامل التحويل |

### شرح مفصل لكل تمرين:

#### 1. [Exercises8_1.cpp](Exercises8_1.cpp) - زيادة أحمال + و - لفئة المسافة
- **ما يفعله البرنامج**: يجعل فئة `Distance` تدعم العمليات الحسابية الطبيعية
- **كيف يعمل**: 
  1. يعرف مشغلي `operator+` و `operator-` كدوال أعضاء
  2. عند استخدام `dist1 - dist2`، يستدعي `operator-`
  3. يتعامل مع البوصات الزائدة (≥ 12) أو الناقصة (< 0)
  4. يعيد كائناً مؤقتاً جديداً يحمل النتيجة
  5. يمكن استخدام النتيجة مباشرة أو تخزينها في متغير
- **الغرض التعليمي**: فهم كيفية جعل الكائنات تتصرف كأنواع أولية في التعبيرات الحسابية

#### 2. [Exercises8_2.cpp](Exercises8_2.cpp) - زيادة حمل += لدمج السلاسل النصية
- **ما يفعله البرنامج**: ينشئ فئة `String` تدعم عملية الدمج باستخدام `+=`
- **كيف يعمل**: 
  1. يعرف مصفوفة داخلية ثابتة الحجم (80 حرفاً)
  2. ينفذ `operator+=` الذي:
     - يتحقق إذا كان الدمج سيتجاوز السعة
     - إذا نعم، يطبع رسالة خطأ ويخرج
     - إذا لا، يستخدم `strcat()` للدمج
     - يعيد كائناً مؤقتاً بالنتيجة
  3. يدعم التركيب: `s3 = s1 += s2`
- **الغرض التعليمي**: تعلم زيادة حمل العوامل المركبة والتحقق من سلامة العمليات

#### 3. [Exercises8_3.cpp](Exercises8_3.cpp) - زيادة حمل + لفئة الوقت
- **ما يفعله البرنامج**: يجعل جمع الأوقات بسيطاً وطبيعياً
- **كيف يعمل**: 
  1. يعرف `operator+` كدالة عضو تأخذ كائناً `time` آخر
  2. يجمع الثواني والدقائق والساعات بشكل منفصل
  3. إذا تجاوزت الثواني 59، يحول الفائض إلى دقائق
  4. إذا تجاوزت الدقائق 59، يحول الفائض إلى ساعات
  5. يعيد كائناً `time` جديداً بالنتيجة
- **الغرض التعليمي**: فهم زيادة حمل العوامل للأنواع التي تحتاج منطقاً معقداً

#### 4. [Exercises8_4.cpp](Exercises8_4.cpp) - زيادة أحمال متقدمة لفئة Int
- **ما يفعله البرنامج**: ينشئ فئة `Int` كاملة مع كل العمليات الحسابية
- **كيف يعمل**: 
  1. ينفذ مشغلي `+`, `-`, `*`, `/` كدوال أعضاء
  2. يضيف عامل تحويل `operator int()` للتحويل التلقائي إلى `int`
  3. يستخدم `long double` للتحقق من التجاوز قبل التنفيذ
  4. ينفذ دالة `checkit()` مساعدة لجميع العمليات
  5. يدعم التهيئة: `Int alpha = 20` (باستخدام منشئ التحويل)
- **الغرض التعليمي**: تعلم زيادة حمل متكاملة للعوامل مع عوامل التحويل والتحقق من الأخطاء

### المفاهيم الرئيسية في هذا الفصل:

1. **زيادة حمل العوامل (Operator Overloading)**: تعريف سلوك العوامل للأنواع المعرفة من المستخدم
2. **أنواع العوامل التي يمكن زيادة حملها**: 
   - الحسابية: `+`, `-`, `*`, `/`, `%`
   - المركبة: `+=`, `-=`, `*=`, `/=`
   - المقارنة: `==`, `!=`, `<`, `>`, etc.
   - الإدخال/الإخراج: `<<`, `>>`
3. **طرق زيادة الحمل**:
   - كدوال أعضاء (تأخذ معامل واحد)
   - كدوال صديقة (تأخذ معاملين)
4. **عوامل التحويل (Conversion Operators)**: `operator type()` للتحويل التلقائي
5. **بناء الكائنات المؤقتة**: في عبارات `return` للعمليات
6. **التحقق من الأخطاء**: خاصة في العمليات التي قد تفشل (مثل تجاوز السعة)

### فوائد زيادة حمل العوامل:

1. **الطبيعية**: تجعل الكود أكثر قابلية للقراءة
2. **التجريد**: تخفي التعقيد خلف واجهة بسيطة
3. **التوحيد**: تعامل الكائنات المعرفة من المستخدم كالأنواع المضمنة
4. **الإنتاجية**: تقليل كود العمليات الشائعة

### قواعد مهمة في زيادة الحمل:

1. لا يمكن تغيير أسبقية العوامل
2. لا يمكن تغيير عدد المعاملات
3. لا يمكن إنشاء عوامل جديدة
4. بعض العوامل لا يمكن زيادة حملها (`::`, `.*`, `.`, `?:`)
5. الحفاظ على الحدس الطبيعي للعامل

هذا الفصل يمثل تطوراً مهماً في إتقان البرمجة الكائنية، حيث يتعلم المبرمج كيفية جعل فئاته تتصرف بشكل طبيعي ومتكامل مع بقية اللغة.